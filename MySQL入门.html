<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"/><meta name="author" content="iaku"/><meta name="created" content="2017-03-07 13:30:44 +0000"/><meta name="updated" content="2017-03-07 13:39:07 +0000"/><title>MySQL入门</title></head><body><div>前述</div><ul><li>本文所述安装环境为ubuntu16.04LTS</li><li>所安装的MySQL版本为5.7</li></ul><div><br/></div><div>安装MySQL</div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: gotham, helvetica, arial, sans-serif;">apt-cache search mysql-server</span></span></div><div><span style="font-size: 12px;"><span style="font-family: gotham, helvetica, arial, sans-serif;">apt install mysql-server-5.7</span></span></div></div><div><br/></div><div>启动/停止/重启/查看进程</div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">ps -ef|grep mysqld</font></span></div><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">sudo service mysql start/stop/restart</font></span></div></div><div><br/></div><div>数据库连接方式</div><div>1）应用程序驱动</div><ul><li>应用程序使用驱动（connector/driver）客户端连接MySQL</li><li>MySQL驱动程序涵盖各种主流语言</li></ul><div>2）MySQL命令行</div><ul><li>验证命令行工具（mysql-client）是否安装成功（mysql -V）</li><li>注意事项</li><ul><li>socket权限要求为：777，不要更改权限</li><li>不要将密码直接输入在命令行里，存在安全风险</li></ul><li>常用命令</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font style="font-size: 12px;" face="gotham">mysql // 进入mysql cmd<br/>status // 查看版本等信息<br/>show variables like 'port';  //查看端口号</font></div><div><font style="font-size: 12px;" face="gotham">show processlist;</font></div></div><ul><li>Socket连接（本地连接）</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">mysql -S/var/run/mysqld/mysqld.sock -uroot -p //-u用户名 -p密码</font></span></div><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">mysql -u root -p // mac下连接</font></span></div></div><ul><li>TCP/IP连接（远程连接）</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">mysql -h127.0.0.1 -P3306 -uroot -p //-h ip地址 -P端口号 -u用户名 -p密码</font></span></div></div><div>3）Gui工具</div><ul><li>常用工具有Navicat/MySQLWokBench</li></ul><div><br/></div><div>SQL语言入门</div><div>1）关系型数据库的特点</div><ul><li>数据存放在表中</li><li>表的每一行被称为记录</li><li>表中的所有记录都有相同的字段（列）</li></ul><div>2）创建与查看数据库</div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">mysql&gt; CREATE DATABASE abc;  //创建数据库abc</font></span></div><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">mysql&gt; show databases;</font></span></div></div><div>3）SQL是什么</div><ul><li>SQL是一种特殊目的的编程语言，用于关系型数据库中的标准数据存取操作</li><li>SQL是与数据库进行沟通的钥匙</li></ul><div>4）SQL用处</div><ul><li>创建表及表中字段</li><li>对表进行增删查改操作</li><li>用SQL操作数据库的一切</li></ul><div>5）SQL语句的分类</div><div>A）DDL（数据定义）</div><ul><li>CREATE/DROP/ALTER TABLE //创建／删除／修改表</li><li>查看当前数据库有哪些表</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">mysql&gt; use test;  // 选择使用test这个数据库</font></span></div><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">mysql&gt; show tables;</font></span></div></div><ul><li>CREATE TABLE</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font style="font-size: 12px;" face="gotham">mysql&gt; create table stu(   //stu 表名<br/>        -&gt; id int(10),  // id-字段；int-类型；10-这里指字符最大长度<br/>        -&gt; name varchar(20),<br/>        -&gt; age int(10),<br/>        -&gt; primary key(id)); // 通过primary key关键字定义字段的主键（每张表都需要包含一个主键，主键唯一标识一条记录，是唯一字段，不可为空，不可重复）</font></div><div><font style="font-size: 12px;" face="gotham">mysql&gt; show create table stu; // 查看创建好的表</font></div></div><ul><li>DROP TABLE</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">drop table stu; // 删除表</font></span></div></div><ul><li>ALTER TABLE</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font style="font-size: 12px;" face="gotham">mysql&gt; alter table stu add column gender varchar(20);  // 新增字段gender<br/>mysql&gt; alter table stu modify column gender varchar(10);  // 修改字段gender</font></div><div><font style="font-size: 12px;" face="gotham">mysql&gt; alter table stu drop column gender;  // 删除字段gender</font></div></div><div>B）DML（数据操作）</div><ul><li>向表中插入／修改／删除记录（select--根据条件从表中查询记录）</li><li>SELECT FROM TABLE</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font style="font-size: 12px;" face="gotham">mysql&gt; selece * from stu;  // 查询表所有字段<br/>mysql&gt; select name,age from stu; // 查询表指定字段</font></div><div><font style="font-size: 12px;" face="gotham">mysql&gt; select name,age from stu where id=1; // 查询表id=1的指定字段</font></div></div><ul><li>INSERT INTO TABLE</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">mysql&gt; insert into stu(id,name) values(1,'John');</font></span></div><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">mysql&gt; insert into stu values(2,'Lucy',20); // 插入完整字段</font></span></div></div><ul><li>UPDATE TABLE SET</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">update stu set age=29 where id=1; // 将id=1的所在的记录的字段age改为29</font></span></div></div><ul><li>DELETE FROM TABLE</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">delete from stu where id=1; // 将id=1的所在的记录删除</font></span></div></div><div>C）DCL（权限管理）</div><ul><li>控制数据库的访问权限等设置</li><li>GRANT</li><li>REVOKE</li></ul><div>D）TCL（事务控制）</div><ul><li>控制事务进展</li><li>COMMIT</li><li>ROLLBACK</li></ul><div><br/></div><div>Tips</div><div>1）解决中文乱码问题（创建数据库时编码设置为utf-8）</div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family: gotham, helvetica, arial, sans-serif;"><font style="font-size: 12px;">CREATE DATABASE `ianote_schema` CHARACTER SET 'utf8' COLLATE 'utf8_general_ci';</font></span></div></div><div><br/></div><div><br/></div></body></html>