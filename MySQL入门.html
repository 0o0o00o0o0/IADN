<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"/><meta name="altitude" content="506.2796630859375"/><meta name="author" content="iaku"/><meta name="created" content="2016-12-18 05:07:00 +0000"/><meta name="latitude" content="30.67224255607972"/><meta name="longitude" content="104.004062751834"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-03-01 07:04:12 +0000"/><title>MySQL入门</title></head><body><div>1.前述</div><div><ul><li>本文所述安装环境为<span lang="EN-US">ubuntu16.04LTS</span><br/></li><li>所安装的<span lang="EN-US">MySQL</span>版本为<span lang="EN-US">5.7</span></li></ul></div><div><span lang="EN-US"> </span></div><div>2.安装<span lang="EN-US">MySQL</span></div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><div style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;"><span lang="EN-US">apt-cache search mysql-server</span></div></div><div style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;"><span lang="EN-US">apt install mysql-server-5.7</span></div></div><div><span lang="EN-US"> </span></div><div>3.启动<span lang="EN-US">/</span>停止<span lang="EN-US">/</span>重启<span lang="EN-US">/</span>查看进程</div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><div style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;"><span lang="EN-US">ps -ef|grep mysqld</span></div></div><div style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;"><span lang="EN-US">service mysql start/stop/restart</span></div></div><div><br/></div><div>4.数据库连接方式
</div><div>1）应用程序驱动</div><ul><li>应用程序使用驱动（<span lang="EN-US">connector/driver</span>）客户端连接<span lang="EN-US">MySQL</span></li><li><span lang="EN-US">MySQL</span>驱动程序涵盖各种主流语言</li></ul><div><span lang="EN-US">2）MySQL</span>命令行</div><ul><li>验证命令行工具（<span lang="EN-US">mysql-client</span>）是否安装成功</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;" lang="EN-US">mysql -V</span></div></div><ul><li>注意事项</li><ul><li><span lang="EN-US">socket</span>权限要求为：<span lang="EN-US">777</span>，不要更改权限</li><li>不要将密码直接输入在命令行里，存在安全风险</li></ul></ul><ul><li>常用命令</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="font-size: 14px;"><font face="gotham"><span lang="EN-US">mysql //</span> 进入<span lang="EN-US">mysql cmd</span></font></div><div><div style="font-size: 16px;"><font face="gotham"><span lang="EN-US">status //</span> 查看版本等信息</font></div><div style="font-size: 16px;"><font face="gotham"><span lang="EN-US">show variables like 'port';  //</span>查看端口号</font></div></div><div><font face="gotham">show processlist;</font></div></div><ul><li><span lang="EN-US">Socket</span>连接（本地连接）<span lang="EN-US"><span style="mso-tab-count:2"> </span>                 </span></li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><div style="font-size: 14px;"><font face="gotham"><span lang="EN-US">mysql -S/var/run/mysqld/mysqld.sock -uroot -p //-u</span>用户名 <span lang="EN-US">-p</span>密码
</font></div></div><div><font face="gotham"><span lang="EN-US">mysql -u root -p // mac</span>下连接</font></div></div><ul><li><span lang="EN-US">TCP/IP</span>连接（远程连接）</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font face="gotham"><span style="font-size: 14px;" lang="EN-US">mysql -h127.0.0.1 -P3306 -uroot -p //-h ip</span><span style="font-size: 16px;">地址 </span><span style="font-size: 16px;" lang="EN-US">-P</span><span style="font-size: 16px;">端口号 </span><span style="font-size: 16px;" lang="EN-US">-u</span><span style="font-size: 16px;">用户名 </span><span style="font-size: 16px;" lang="EN-US">-p</span><span style="font-size: 14px;">密码</span></font></div></div><div><span lang="EN-US">3）MySQLGUI</span>工具</div><ul><li>常用工具（Navicat／MySQLWokBench）</li></ul><div><div><span lang="EN-US"> </span></div><div><span lang="EN-US">5.SQL</span>语言入门
</div></div><div>1）关系型数据库的特点</div><ul><li>数据存放在表中</li><li>表的每一行被称为记录</li><li>表中的所有记录都有相同的字段（列）</li></ul><div>2）创建数据库/<span style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;">查看当前有哪些数据库</span></div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;" lang="EN-US">mysql&gt; CREATE DATABASE abc;  //</span><span style="font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;">创建数据库</span><span style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;" lang="EN-US">abc</span></div><div><span style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;" lang="EN-US">mysql&gt; show databases; </span></div></div><div><span lang="EN-US">3）SQL</span>是什么</div><ul><li><span lang="EN-US">SQL</span>是一种特殊目的的编程语言，用于关系型数据库中的标准数据存取操作</li><li><span lang="EN-US">SQL</span>是与数据库进行沟通的钥匙</li></ul><div><span lang="EN-US">4）SQL</span>用处<br/></div><ul><li>创建表及表中字段</li><li>对表进行增删查改操作</li><li>用<span lang="EN-US">SQL</span>操作数据库的一切</li></ul><div><span lang="EN-US">5）SQL</span>语句的分类</div><div><span lang="EN-US">A）DDL</span>（数据定义）</div><ul><li><span lang="EN-US">CREATE/DROP/ALTER TABLE //</span>创建／删除／修改表</li><li>查看当前数据库有哪些表</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><div style="font-size: 14px;"><font face="gotham"><span lang="EN-US">mysql&gt; use test;  //</span> 选择使用<span lang="EN-US">test</span>这个数据库
</font></div></div><div><span lang="EN-US"><font face="gotham">mysql&gt; show tables; </font></span></div></div><ul><li>CREATE TABLE</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="font-size: 14px;"><font face="gotham"><span lang="EN-US">mysql&gt; create table stu(   //stu</span> 表名
</font></div><div style="font-size: 16px;"><font face="gotham"><span lang="EN-US"><span style="mso-tab-count:3">        </span>-&gt; id int(10),<span style="mso-spacerun:yes"> </span> // id-</span>字段；<span lang="EN-US">int-</span>类型；<span lang="EN-US">10-</span>这里指字符最大长度
</font></div><div style="font-size: 16px;"><span lang="EN-US"><font face="gotham"><span style="mso-tab-count:3">        </span>-&gt; name varchar(20),</font></span></div><div style="font-size: 16px;"><span lang="EN-US"><font face="gotham">        -&gt; age int(10),</font></span></div><div style="font-size: 16px;"><font face="gotham"><span lang="EN-US">         -&gt; primary key(id)); //</span> 通过<span lang="EN-US">primary key</span>关键字定义字段的主键（每张表都需要包含一个主键，主键唯一标识一条记录，是唯一字段，不可为空，不可重复）
</font></div><div><span style="font-size: 16px;"><span style="font-size: 14px;"><font face="gotham"><span lang="EN-US">mysql&gt; show create table stu; //</span> 查看创建好的表</font></span></span><span lang="EN-US"><font face="gotham">            </font>               </span></div></div><ul><li>DROP TABLE</li><li>ALTER TABLE</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><div style="font-size: 14px;"><font face="gotham"><span lang="EN-US">mysql&gt; alter table stu add column gender varchar(20);  //</span> 新增字段<span lang="EN-US">gender</span>
</font></div></div><div style="font-size: 16px;"><font face="gotham"><span lang="EN-US">mysql&gt; alter table stu modify column gender varchar(10);<span style="mso-spacerun:yes"> </span> //</span> 修改字段<span lang="EN-US">gender</span>
</font></div><div style="font-size: 14px;"><font face="gotham"><span lang="EN-US">mysql&gt; alter table stu drop column gender;<span style="mso-spacerun:yes"> </span> //</span> 删除字段<span lang="EN-US">gender</span></font></div></div><div><span lang="EN-US">B）DML</span>（数据操作）</div><ul><li>向表中插入／修改／删除记录（<span lang="EN-US">select--</span>根据条件从表中查询记录）</li><li>SELECT FROM TABLE</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><div style="font-size: 14px;"><font face="gotham"><span lang="EN-US">mysql&gt; selece * from stu;  //</span> 查询表所有字段
</font></div></div><div style="font-size: 16px;"><font face="gotham"><span lang="EN-US">mysql&gt; select name,age from stu; //</span> 查询表指定字段
</font></div><div><font face="gotham"><span lang="EN-US">mysql&gt; select name,age from stu where id=1; //</span> 查询表<span lang="EN-US">id=1</span>的指定字段<span lang="EN-US"> </span></font></div></div><ul><li>INSERT INTO TABLE</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><div style="font-size: 14px;"><span lang="EN-US"><font face="gotham">mysql&gt; insert into stu(id,name) values(1,'John');</font></span></div></div><div><font face="gotham"><span lang="EN-US">mysql&gt; insert into stu values(2,'Lucy',20); //</span> 插入完整字段</font><span lang="EN-US"><font face="gotham">          </font>                          </span>
</div></div><ul><li>UPDATE TABLE SET</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;" lang="EN-US">u</span><font face="gotham"><span style="font-size: 14px;" lang="EN-US">pdate stu set age=29 where id=1; //</span><span style="font-size: 16px;"> 将</span><span style="font-size: 16px;" lang="EN-US">id=1</span><span style="font-size: 16px;">的所在的记录的字段</span><span style="font-size: 16px;" lang="EN-US">age</span><span style="font-size: 16px;">改为</span><span style="font-size: 14px;" lang="EN-US">29</span><span lang="EN-US"> </span></font></div></div><ul><li>DELETE FROM TABLE</li></ul><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;" lang="EN-US">delete from stu where id=1; //</span><span style="font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;"> 将</span><span style="font-family:&quot;Helvetica Neue&quot;, Arial, sans;font-size:16px;" lang="EN-US">id=1</span><span style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;">的所在的记录删除</span><span lang="EN-US"><span style="mso-tab-count:3">          </span>                         </span>
</div></div><div><span lang="EN-US">C）DCL</span>（权限管理）</div><ul><li>控制数据库的访问权限等设置</li><li>GRANT</li><li>REVOKE</li></ul><div><span lang="EN-US">D）TCL</span>（事务控制）</div><ul><li>控制事务进展</li><li>COMMIT</li><li>ROLLBACK</li></ul><div><span lang="EN-US">6.Tips</span></div><div>1）解决中文乱码问题（创建数据库时编码设置为<span lang="EN-US">utf-8）</span></div><div style="box-sizing: border-box; padding: 8px; border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span lang="EN-US">CREATE DATABASE `ianote_schema` </span><span lang="EN-US">CHARACTER SET 'utf8' </span><span lang="EN-US">COLLATE 'utf8_general_ci';</span></div></div><div><br/></div><div><br/></div></body></html>