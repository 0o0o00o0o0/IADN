<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"/><meta name="altitude" content="506.8943176269531"/><meta name="author" content="iaku"/><meta name="created" content="2016-12-12 12:54:00 +0000"/><meta name="latitude" content="30.67224894597079"/><meta name="longitude" content="104.0040514848035"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2017-03-01 07:02:23 +0000"/><title>AngularJS入门</title></head><body><div>1.前述</div><div><ul><li>本文包含了<span lang="EN-US"><a href="https://github.com/rdkmaster/rdk">RDK</a></span>（前端）相关内容<br/></li><li>阅读本文前，你最好了解一下<span lang="EN-US">RequireJS</span>（<span lang="EN-US">RequireJS</span>是基于<span lang="EN-US">AMD</span>规范的模块化方案）【针对<span lang="EN-US">RDK</span>】<br/></li></ul></div><div><div><span lang="EN-US"><span style="mso-tab-count:1">      </span></span></div><div><span lang="EN-US">2.RDK</span>、<span lang="EN-US">AngularJS</span>、<span lang="EN-US">Angular</span>之间的关系
</div><div><ul><li><span lang="EN-US">RDK</span>基于<span lang="EN-US">AngularJS</span>（<span lang="EN-US">1.x</span>）开发<br/></li><li>简单来说，可以认为<span lang="EN-US">RDK</span>是通过<span lang="EN-US">AngularJS</span>的自定义指令对<span lang="EN-US">AngularJS</span>进行了二次封装。<br/></li><li>通常意义上，<span lang="EN-US">AngularJS</span>指的<span lang="EN-US">Angular(1.x)</span>；<span lang="EN-US">Angular</span>指的是<span lang="EN-US">Angular(2+)</span><br/></li><li><span lang="EN-US">AngularJS</span>与<span lang="EN-US">Angular</span>完全不兼容<br/></li></ul></div><div><span lang="EN-US"> </span></div></div><div>3.核心特点
</div><div><span lang="EN-US">1）MVVM</span></div><ul><li>社区一直将<span lang="EN-US">AngularJS</span>统称为前端<span lang="EN-US">MVC</span>框架，但实际上<span lang="EN-US">AngularJS</span>整体上更接近<span lang="EN-US">MVVM</span>模式</li><li><span lang="EN-US">MVC</span>：<span lang="EN-US">Model-View-Control(</span>模型<span lang="EN-US">-</span>视图<span lang="EN-US">-</span>控制器<span lang="EN-US">)</span>，<span lang="EN-US">view</span>指的是视图；<span lang="EN-US">model</span>指的是实体模型；<span lang="EN-US">control</span>指的是控制器，用于控制<span lang="EN-US">model</span>与<span lang="EN-US">view</span>之间的交互</li><li><span lang="EN-US">MVVM</span>：<span lang="EN-US">Model-View-ViewModel(</span>模型<span lang="EN-US">-</span>视图<span lang="EN-US">-</span>视图模型<span lang="EN-US">)</span></li><ul><li>以数据绑定为基础架构</li><li><span lang="EN-US">view</span>和<span lang="EN-US">model</span>分离，<span lang="EN-US">viewModel</span>负责完成<span lang="EN-US">view</span>于<span lang="EN-US">model</span>间的交互<span lang="EN-US">,</span>负责业务逻辑</li><li><span lang="EN-US">view</span>的变动，自动反映在<span lang="EN-US">viewModel</span>；反之亦然</li></ul></ul><div>2）双向绑定
</div><ul><li>从界面的操作能实时反映到数据</li><li>数据的变更能实时展现到界面</li></ul><div>3）依赖注入
</div><div>4）模块化
</div><ul><li>隔离命名空间<span lang="EN-US">--AngularJS</span>没有暴露在<span lang="EN-US">Global</span>的对象（<span lang="EN-US">angular</span>对象本身除外）</li><li>处理依赖关系<span lang="EN-US">--AngularJS</span>的模块指定依赖关系</li><li>模块<span lang="EN-US">--</span>定义一个<span lang="EN-US">App</span></li><ul><li>模块先定义（<span lang="EN-US">angular.module</span>），再使用</li><li>不限制模块定义的顺序</li><li>不限制各个<span lang="EN-US">service</span>、<span lang="EN-US">controller</span>、<span lang="EN-US">directive</span>注册到模块的顺序</li></ul></ul><div>5）语义化标签
</div><div><div><span lang="EN-US"> </span></div><div><span lang="EN-US">2.$scope</span>（<span lang="EN-US">scope</span>）作用域
</div><div><ul><li><span lang="EN-US">controller</span>的 <span lang="EN-US">scope</span>称之为作用域<br/></li><li>凡是在<span lang="EN-US">html</span>中用到的变量<span lang="EN-US">/</span>函数都必须定义在 <span lang="EN-US">scope</span> 上的<br/></li><li>定义在 <span lang="EN-US">scope</span> 上的变量<span lang="EN-US">/</span>函数，都是全局的<br/></li><li>一般来说，变量的作用范围越小越好；因此，对于在<span lang="EN-US">html</span>中用不到的变量<span lang="EN-US">/</span>函数，最好不要定义在<span lang="EN-US">scope</span>上<br/></li></ul></div><div><span lang="EN-US"><span style="mso-tab-count:1">      </span></span></div><div>3.分层
</div><div><ul><li>开发时，建议将<span lang="EN-US">Controller</span>层与<span lang="EN-US">Service</span>层进行分离。也就说，将数据交互与处理放在<span lang="EN-US">Service</span>层，<span lang="EN-US">Controller</span>层负责页面交互逻辑。<br/></li><li>参考：<a href="http://www.jianshu.com/p/1e1aaf0fd30a"><span lang="EN-US">AngularJS</span>中如何对<span lang="EN-US">Controller</span>与<span lang="EN-US">Service</span>进行分层设计与编码</a><br/></li></ul></div><div><span lang="EN-US"><span style="mso-tab-count:1">      </span></span></div><div><span lang="EN-US">4.controller</span>之间的通信</div><div><ul><li>父级<span lang="EN-US">controller →</span> 子级<span lang="EN-US">controller: $broadcast</span><br/></li><li>子级<span lang="EN-US">controller →</span> 父级<span lang="EN-US">controller: $emit</span><br/></li><li><span lang="EN-US">$on</span>用于接收<span lang="EN-US">event</span>与<span lang="EN-US">data</span><br/></li><li>兄弟<span lang="EN-US">controller</span>之间不可直接通信<br/></li><li>另一种方式是通过<span lang="EN-US">$rootScope</span>通信，但一般不建议使用这种方式<br/></li></ul></div><div><span lang="EN-US"><span style="mso-tab-count:1">      </span></span></div><div>5.指令
</div><div><ul><li><span lang="EN-US">AngularJS</span>应用最重要的部分<span lang="EN-US">,</span>它定义了<span lang="EN-US">AngularJS</span>应用的根元素<br/></li><li>像<span lang="EN-US">ng-click/ng-model/ng-bind</span>等，属于<span lang="EN-US">AngularJS</span>内置的指令<br/></li><li>像<span lang="EN-US">rdk_table/rdk_time/rdk_input</span>等，本质上属于<span lang="EN-US">AngularJS</span>的自定义指令<br/></li><li>在实际项目中，很多时候，需要根据需要来自定义指令<br/></li></ul></div><div><span lang="EN-US"><span style="mso-tab-count:1">      </span></span></div><div>6.服务（<span lang="EN-US">Service</span>）
</div><div><ul><li>以函数或对象形式存在<br/></li><li>常用服务：<span lang="EN-US">$http,$timeout,$interval</span>，<span lang="EN-US">$location</span>等<br/></li><li>可以自定义服务<br/></li></ul></div><div><span lang="EN-US"><span style="mso-tab-count:1">      </span></span></div><div>7.路由
</div><div><ul><li><span lang="EN-US">AngularJS</span>最适合用于开发<span lang="EN-US">SPA(</span>路由放前端<span lang="EN-US">)</span><br/></li></ul></div><div><span lang="EN-US"><span style="mso-tab-count:1">      </span></span></div><div><span lang="EN-US">8.Tips</span></div><div><ul><li><span lang="EN-US">ng-change</span>监测的是<span lang="EN-US">input</span>的输入值的变化，通过<span lang="EN-US">js</span>改变<span lang="EN-US">input</span>的<span lang="EN-US">value</span>，<span lang="EN-US">ng-change</span>是监测不到的<br/></li><li>当<span lang="EN-US">input</span>的<span lang="EN-US">type</span>为<span lang="EN-US">'file'</span>时，<span lang="EN-US">ng-change</span>无效，此时应使用<span lang="EN-US">onchange(onchange=angular.element(this).scope().xxx()")</span> <br/></li></ul></div></div><div><br/></div></body></html>